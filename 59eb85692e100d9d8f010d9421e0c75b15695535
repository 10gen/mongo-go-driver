{
  "comments": [
    {
      "key": {
        "uuid": "2f0aee0d_0b8a8298",
        "filename": "mongo/client.go",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1013848
      },
      "writtenOn": "2019-02-14T00:29:47Z",
      "side": 1,
      "message": "So... what should be the recommended way to turn on TLS when you need to supply your own config?\n\nIf they do:\n\n  ClientOptions{}.TlsConfig(myTlsConfig).ApplyURI(\"mongodb://blah/?ssl\u003dtrue\")\n\nI think that will (silently) ignore the TlsConfig.  On the other hand, I think any of these will enable TLS\n\n   ClientOptions{}.ApplyURI(\"mongodb://blah/?ssl\u003dtrue\").TlsConfig(myTlsConfig).\n   ClientOptions{}.ApplyURI(\"mongodb://blah/?ssl\u003dfalse\").TlsConfig(myTlsConfig).\n   ClientOptions{}.ApplyURI(\"mongodb://blah\").TlsConfig(myTlsConfig).\n\nIs this the behavior we want? Do we need to more carefully document it?",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 2
      },
      "revId": "59eb85692e100d9d8f010d9421e0c75b15695535",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "764547f7_fe286286",
        "filename": "mongo/client.go",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2019-02-14T16:13:47Z",
      "side": 1,
      "message": "Your example isn\u0027t what this is saying. This is saying if you do this, you\u0027ll wind up with an empty tls.Config:\n\n    mongo.NewClient(options.Client().TLSConfig(...), options.Client().ApplyURI(\"mongodb://.../?ssl\u003dtrue\"))\n\nEither way, you asked for the TLS config to be overwritten when you called ApplyURI after setting the TLS config.",
      "parentUuid": "2f0aee0d_0b8a8298",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 2
      },
      "revId": "59eb85692e100d9d8f010d9421e0c75b15695535",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6eb48b72_57cbfc28",
        "filename": "mongo/client.go",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1013848
      },
      "writtenOn": "2019-02-14T18:58:14Z",
      "side": 1,
      "message": "I think I understand what it\u0027s saying.  I\u0027m just concerned about the possible surprise to users.  Someone could argue that ssl\u003dtrue on the URI doesn\u0027t actually conflict with TLSConfig.  It\u0027s in accordance with it. \n\nI\u0027m not saying this is wrong, just that it could lead to some surprise and may be worth documenting explicitly, perhaps in the ApplyURI method of ClientOptions.",
      "parentUuid": "764547f7_fe286286",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 2
      },
      "revId": "59eb85692e100d9d8f010d9421e0c75b15695535",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4e8711a_76b9b2eb",
        "filename": "mongo/client.go",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2019-02-14T20:53:50Z",
      "side": 1,
      "message": "I added to the documentation for ApplyURI indicating that if ssl\u003dtrue then the *tls.Config will be overwritten.",
      "parentUuid": "6eb48b72_57cbfc28",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 2
      },
      "revId": "59eb85692e100d9d8f010d9421e0c75b15695535",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fe529ab_ca2273f2",
        "filename": "mongo/client.go",
        "patchSetId": 12
      },
      "lineNbr": 77,
      "author": {
        "id": 1013848
      },
      "writtenOn": "2019-02-14T21:07:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4e8711a_76b9b2eb",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 2
      },
      "revId": "59eb85692e100d9d8f010d9421e0c75b15695535",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}