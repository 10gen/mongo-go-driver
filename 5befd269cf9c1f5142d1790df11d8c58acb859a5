{
  "comments": [
    {
      "key": {
        "uuid": "f419b326_6f6c1eed",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 73,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "We might not have been doing this before, but we should default to context.Background() if ctx is nil. Many of our functions have this behavior, so we should be consistent.",
      "range": {
        "startLine": 73,
        "startChar": 5,
        "endLine": 73,
        "endChar": 20
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6481762e_1d9ca7aa",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 73,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f419b326_6f6c1eed",
      "range": {
        "startLine": 73,
        "startChar": 5,
        "endLine": 73,
        "endChar": 20
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f854cc05_d7bff73a",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "nit: nil is the zero-value for an interface so you don\u0027t need to initialize this explicitly.",
      "range": {
        "startLine": 77,
        "startChar": 2,
        "endLine": 77,
        "endChar": 18
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa05546d_a00d7237",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f854cc05_d7bff73a",
      "range": {
        "startLine": 77,
        "startChar": 2,
        "endLine": 77,
        "endChar": 18
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68f0f1c3_e1cbe10f",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "I\u0027d prefer to have functions like these explicitly return an error. They can set cs.err but they should also return the error so we don\u0027t risk suppressing any errors.",
      "range": {
        "startLine": 137,
        "startChar": 7,
        "endLine": 137,
        "endChar": 25
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e125a9cb_4e24fda6",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68f0f1c3_e1cbe10f",
      "range": {
        "startLine": 137,
        "startChar": 7,
        "endLine": 137,
        "endChar": 25
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19135cf0_d5b6d944",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 150,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "Discussed offline: we need to cache the operation time from the aggregate response if the conditions described in https://github.com/mongodb/specifications/blob/master/source/change-streams/change-streams.rst#startatoperationtime are met.",
      "range": {
        "startLine": 149,
        "startChar": 0,
        "endLine": 150,
        "endChar": 0
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13b0ab89_c3d1e466",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 150,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19135cf0_d5b6d944",
      "range": {
        "startLine": 149,
        "startChar": 0,
        "endLine": 150,
        "endChar": 0
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b85dd964_41a221f0",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 241,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "declare this inside the loop.",
      "range": {
        "startLine": 241,
        "startChar": 1,
        "endLine": 241,
        "endChar": 16
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23ea3dd6_3d466187",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 241,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b85dd964_41a221f0",
      "range": {
        "startLine": 241,
        "startChar": 1,
        "endLine": 241,
        "endChar": 16
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "363d12f2_cc558818",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 330,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "Discussed offline: we should have a cached version of the operation time because the session\u0027s operation time might be too far ahead of the one we want to use.",
      "range": {
        "startLine": 330,
        "startChar": 5,
        "endLine": 330,
        "endChar": 26
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24946fd1_232ff59a",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 330,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "363d12f2_cc558818",
      "range": {
        "startLine": 330,
        "startChar": 5,
        "endLine": 330,
        "endChar": 26
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43b1983c_73aa0bba",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 376,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2019-06-11T14:40:54Z",
      "side": 1,
      "message": "I\u0027m concerned that we check for the cursor being closed by cs.cursor \u003d\u003d nil, but we never actually set it to nil, so we might call cs.cursor.Close multiple times. This should set cs.cursor to nil after the Close call.",
      "range": {
        "startLine": 376,
        "startChar": 24,
        "endLine": 376,
        "endChar": 29
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81b1b383_3ff777d2",
        "filename": "mongo/change_stream.go",
        "patchSetId": 5
      },
      "lineNbr": 376,
      "author": {
        "id": 1016593
      },
      "writtenOn": "2019-06-11T20:14:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43b1983c_73aa0bba",
      "range": {
        "startLine": 376,
        "startChar": 24,
        "endLine": 376,
        "endChar": 29
      },
      "revId": "5befd269cf9c1f5142d1790df11d8c58acb859a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}