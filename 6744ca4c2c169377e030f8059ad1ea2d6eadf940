{
  "comments": [
    {
      "key": {
        "uuid": "f247488f_c79e33f9",
        "filename": "core/dispatch/end_sessions.go",
        "patchSetId": 21
      },
      "lineNbr": 26,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-07-18T16:17:11Z",
      "side": 1,
      "message": "This does the manual server selection mentioned here: (https://review.gerrithub.io/c/mongodb/mongo-go-driver/+/418880/9/mongo/client.go#133).  I had to make findServer() public because it does protected reads to find the server so I figured it made sense to reuse this method.  Not sure what kind of error to throw if no server found, so I just did a timeout error since normal server selection would result in a timeout.  Should I make a new one?",
      "revId": "6744ca4c2c169377e030f8059ad1ea2d6eadf940",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2a717bc_f308b767",
        "filename": "core/dispatch/end_sessions.go",
        "patchSetId": 21
      },
      "lineNbr": 26,
      "author": {
        "id": 1013853
      },
      "writtenOn": "2018-07-19T21:42:49Z",
      "side": 1,
      "message": "My concern with putting this here is that it is different than every other dispatch method in that it may not do what you asked of it. Depending on server state at any given moment, this might just not do anything. The problem with that is the this method has no context to know why it was called and whether or not that\u0027s ok.\n\nIf you put this up high in the Disconnect method of a Client, it knows, as the caller, that it\u0027s ok not to call this because blocking on disconnect for an extended period of time isn\u0027t going to be ok.",
      "parentUuid": "f247488f_c79e33f9",
      "revId": "6744ca4c2c169377e030f8059ad1ea2d6eadf940",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf2091f3_4e715d39",
        "filename": "core/dispatch/end_sessions.go",
        "patchSetId": 21
      },
      "lineNbr": 26,
      "author": {
        "id": 1014410
      },
      "writtenOn": "2018-07-23T15:58:04Z",
      "side": 1,
      "message": "After talking with Kris and Jeff, we decided to remove the special server selection logic because users can pass in a context with a timeout. If the context times out during server selection, the selection will be aborted and the EndSessions command won\u0027t run.",
      "parentUuid": "e2a717bc_f308b767",
      "revId": "6744ca4c2c169377e030f8059ad1ea2d6eadf940",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}