{
  "comments": [
    {
      "key": {
        "uuid": "a5834efa_78ea2bfe",
        "filename": "core/command/errors.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "Is there a specific reason why we\u0027re changing this to use a pointer receiver? I think it\u0027s useful to have it as a value since we don\u0027t actually need to do modifications (this doesn\u0027t mean that we can\u0027t return a pointer to a command.Error if we wanted to for some reason).",
      "range": {
        "startLine": 81,
        "startChar": 6,
        "endLine": 81,
        "endChar": 14
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23f5362f_8e79d1cc",
        "filename": "core/command/errors.go",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-08T17:50:26Z",
      "side": 1,
      "message": "I don\u0027t actually remember why we did this, but I changed it back and all the tests appear to still pass, so I\u0027ll keep it as a value receiver.",
      "parentUuid": "a5834efa_78ea2bfe",
      "range": {
        "startLine": 81,
        "startChar": 6,
        "endLine": 81,
        "endChar": 14
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "047fd1ca_8e8a5fd1",
        "filename": "core/command/opmsg.go",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "We should probably use MutableArrayOK here so we don\u0027t panic if this is changed at some point.",
      "range": {
        "startLine": 85,
        "startChar": 29,
        "endLine": 85,
        "endChar": 41
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d12f4860_9254e650",
        "filename": "core/command/opmsg.go",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-08T17:50:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "047fd1ca_8e8a5fd1",
      "range": {
        "startLine": 85,
        "startChar": 29,
        "endLine": 85,
        "endChar": 41
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4da400fa_41c6ca87",
        "filename": "core/command/opmsg.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "Same as above, we should probably use StringValueOK here to ensure we don\u0027t panic if something is wrong here.",
      "range": {
        "startLine": 90,
        "startChar": 41,
        "endLine": 90,
        "endChar": 54
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "622d0452_6d60ad78",
        "filename": "core/command/opmsg.go",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-08T17:50:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4da400fa_41c6ca87",
      "range": {
        "startLine": 90,
        "startChar": 41,
        "endLine": 90,
        "endChar": 54
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91f4f8cf_58b50586",
        "filename": "core/command/read.go",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "Why did we add an error here if we always return nil?",
      "range": {
        "startLine": 29,
        "startChar": 76,
        "endLine": 29,
        "endChar": 81
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf9100b8_a52a256d",
        "filename": "core/command/read.go",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-08T17:50:26Z",
      "side": 1,
      "message": "whoops.  Guessed I changed it and forgot to remove it",
      "parentUuid": "91f4f8cf_58b50586",
      "range": {
        "startLine": 29,
        "startChar": 76,
        "endLine": 29,
        "endChar": 81
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac4c5df1_2bb589ef",
        "filename": "core/command/write.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-06T21:28:44Z",
      "side": 1,
      "message": "This actually isn\u0027t needed since this logic has been moved up to the dispatch level.  Will be removed in next patch set.",
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22ba6f27_0a69b2e6",
        "filename": "core/command/write.go",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ac4c5df1_2bb589ef",
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d285de8f_c232ebff",
        "filename": "core/dispatch/aggregate.go",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-06T19:40:35Z",
      "side": 1,
      "message": "This checks to override the read preference.  This can\u0027t be centralized in command/read.go because runCommand has different behavior (user-specified operation level read concern overrides what is set in transaction) and we don\u0027t know about runCommand at the command level.",
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00f68fe0_1a7fe9c4",
        "filename": "core/dispatch/commit_transaction.go",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-06T19:40:35Z",
      "side": 1,
      "message": "There\u0027s a lot of weird error logic used to determine when to add the UnknownTransactionCommitResult.  It says to add this for writeconcern fail/timeout errors - are they all guaranteed to be error code 64?  Also seems for network errors specifically the TransientTransactionError label should not be present?",
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bb2b4b7_ff6bb4c3",
        "filename": "core/dispatch/read.go",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-06T19:40:35Z",
      "side": 1,
      "message": "Here runCommand does *not* override the readpref with transaction readpref.  This implicitly assumes that dispatch.read is only used by runCommand for transactions.  Not sure if this is a good assumption to make, but if not, then that would mean this logic would have to be moved further up into mongo",
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84339763_48c6c724",
        "filename": "core/session/client_session.go",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1001503
      },
      "writtenOn": "2018-08-08T17:03:08Z",
      "side": 1,
      "message": "We probably want to document that these methods don\u0027t actually send anything to the server to start/commit/abort a transaction and that it just progresses the transaction state machine.",
      "range": {
        "startLine": 221,
        "startChar": 0,
        "endLine": 221,
        "endChar": 40
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2853064_a9e8081c",
        "filename": "core/session/client_session.go",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1014457
      },
      "writtenOn": "2018-08-08T17:50:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "84339763_48c6c724",
      "range": {
        "startLine": 221,
        "startChar": 0,
        "endLine": 221,
        "endChar": 40
      },
      "revId": "78fd49ee62837f71fbf63bdcac2eb49c6b32d4f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}